{
    "defaults": {
        "file_extentions": {
            "private_key": "key",
            "certificate_signing_request": "csr",
            "signed_certificate": "crt"
        }
    },
    "certs": [
        {
            "name": "root-ca",
            "conf": {
                "type": "root-ca",
                "storage": {
                    "path": "certs/root-ca",
                    "fileName": "root-ca"
                },
                "private_key": {
                    "algorithm": {
                        "name": [
                            "ECDSA"
                        ],
                        "type": "EC",
                        "params": {
                            "curve": "SECP521R1"
                        }
                    },
                    "encoding": "PEM",
                    "format": "PKCS8",
                    "sign_with_alg": "sha512",
                    "passphrase": {
                        "path": "passphrase",
                        "fileName": "fortest"
                    }
                },
                "subject_name": "root-ca",
                "issuer_name": "root-ca",
                "version": 3,
                "not_valid_before": "now",
                "not_valid_after": 3650,
                "subject_name_attributes": {
                    "COUNTRY_NAME": "FR",
                    "STATE_OR_PROVINCE_NAME": "Val d'Oise",
                    "LOCALITY_NAME": "Argenteuil",
                    "ORGANIZATION_NAME": "smartius",
                    "COMMON_NAME": "root-ca"
                },
                "extensions": {
                    "SubjectAlternativeName": {
                        "items": [
                            {
                                "DNSName": "localhost"
                            },
                            {
                                "DNSName": "dev.local"
                            },
                            {
                                "IPAddressV4": "127.0.0.1"
                            }
                        ],
                        "critical": "false"
                    },
                    "KeyUsage": {
                        "items": [
                            "key_cert_sign",
                            "crl_sign"
                        ],
                        "critical": "true"
                    },
                    "BasicConstraints": {
                        "ca": "true",
                        "path_length": "none",
                        "critical": "true"
                    },
                    "SubjectKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    },
                    "AuthorityKeyIdentifier": {
                        "set": "false",
                        "critical": "false"
                    }
                }
            }
        },
        {
            "name": "intermadiate-ca",
            "conf": {
                "type": "intermadiate-ca",
                "storage": {
                    "path": "certs/intermadiate-ca",
                    "fileName": "intermadiate-ca"
                },
                "private_key": {
                    "algorithm": {
                        "name": [
                            "ECDSA"
                        ],
                        "type": "EC",
                        "params": {
                            "curve": "SECP521R1"
                        }
                    },
                    "encoding": "PEM",
                    "format": "PKCS8",
                    "sign_with_alg": "sha512"
                },
                "subject_name": "intermadiate-ca",
                "issuer_name": "root-ca",
                "version": 3,
                "not_valid_before": "now",
                "not_valid_after": 1750,
                "subject_name_attributes": {
                    "COUNTRY_NAME": "FR",
                    "STATE_OR_PROVINCE_NAME": "Val d'Oise",
                    "LOCALITY_NAME": "Argenteuil",
                    "ORGANIZATION_NAME": "smartius",
                    "COMMON_NAME": "intermadiate-ca"
                },
                "extensions": {
                    "SubjectAlternativeName": {
                        "items": [
                            {
                                "DNSName": "localhost"
                            },
                            {
                                "DNSName": "dev.local"
                            },
                            {
                                "IPAddressV4": "127.0.0.1"
                            }
                        ],
                        "critical": "false"
                    },
                    "KeyUsage": {
                        "items": [
                            "key_cert_sign",
                            "crl_sign",
                            "digital_signature"
                        ],
                        "critical": "true"
                    },
                    "BasicConstraints": {
                        "ca": "true",
                        "path_length": "none",
                        "critical": "true"
                    },
                    "SubjectKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    },
                    "AuthorityKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    }
                }
            }
        },
        {
            "name": "postgres-ca",
            "conf": {
                "type": "intermadiate-ca",
                "storage": {
                    "path": "certs/postgres-ca",
                    "fileName": "postgres-ca"
                },
                "private_key": {
                    "algorithm": {
                        "name": [
                            "RSA"
                        ],
                        "type": "RSA",
                        "params": {
                            "key_size": 4096
                        }
                    },
                    "encoding": "PEM",
                    "format": "TraditionalOpenSSL",
                    "sign_with_alg": "sha512"
                },
                "subject_name": "postgres-ca",
                "issuer_name": "intermadiate-ca",
                "version": 3,
                "not_valid_before": "now",
                "not_valid_after": 365,
                "subject_name_attributes": {
                    "COUNTRY_NAME": "FR",
                    "STATE_OR_PROVINCE_NAME": "Val d'Oise",
                    "LOCALITY_NAME": "Argenteuil",
                    "ORGANIZATION_NAME": "smartius",
                    "COMMON_NAME": "postgres-ca"
                },
                "extensions": {
                    "SubjectAlternativeName": {
                        "items": [
                            {
                                "DNSName": "localhost"
                            },
                            {
                                "DNSName": "postgres.dev.local"
                            },
                            {
                                "IPAddressV4": "127.0.0.1"
                            }
                        ],
                        "critical": "false"
                    },
                    "KeyUsage": {
                        "items": [
                            "key_cert_sign",
                            "crl_sign",
                            "digital_signature"
                        ],
                        "critical": "true"
                    },
                    "ExtendedKeyUsage": {
                        "items": [
                            "server_auth",
                            "client_auth"
                        ],
                        "critical": "true"
                    },
                    "BasicConstraints": {
                        "ca": "true",
                        "path_length": "none",
                        "critical": "true"
                    },
                    "SubjectKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    },
                    "AuthorityKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    }
                }
            }
        },
        {
            "name": "postgres-server",
            "conf": {
                "type": "leaf",
                "storage": {
                    "path": "certs/postgres-server",
                    "fileName": "postgres-server"
                },
                "private_key": {
                    "algorithm": {
                        "name": [
                            "RSA"
                        ],
                        "type": "RSA",
                        "params": {
                            "key_size": 2048
                        }
                    },
                    "encoding": "PEM",
                    "format": "TraditionalOpenSSL",
                    "sign_with_alg": "sha512"
                },
                "subject_name": "postgres-server",
                "issuer_name": "postgres-ca",
                "version": 3,
                "not_valid_before": "now",
                "not_valid_after": 365,
                "subject_name_attributes": {
                    "COUNTRY_NAME": "FR",
                    "STATE_OR_PROVINCE_NAME": "Val d'Oise",
                    "LOCALITY_NAME": "Argenteuil",
                    "ORGANIZATION_NAME": "smartius",
                    "COMMON_NAME": "postgres-server"
                },
                "extensions": {
                    "SubjectAlternativeName": {
                        "items": [
                            {
                                "DNSName": "localhost"
                            }
                        ],
                        "critical": "false"
                    },
                    "KeyUsage": {
                        "items": [
                            "data_encipherment",
                            "key_encipherment",
                            "digital_signature"
                        ],
                        "critical": "true"
                    },
                    "ExtendedKeyUsage": {
                        "items": [
                            "server_auth",
                            "client_auth"
                        ],
                        "critical": "true"
                    },
                    "BasicConstraints": {
                        "ca": "false",
                        "path_length": "none",
                        "critical": "true"
                    },
                    "SubjectKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    },
                    "AuthorityKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    }
                }
            }
        },
        {
            "name": "postgres-client1",
            "conf": {
                "type": "leaf",
                "storage": {
                    "path": "certs/postgres-client",
                    "fileName": "postgres-client1"
                },
                "private_key": {
                    "algorithm": {
                        "name": [
                            "RSA"
                        ],
                        "type": "RSA",
                        "params": {
                            "key_size": 2048
                        }
                    },
                    "encoding": "PEM",
                    "format": "PKCS8",
                    "sign_with_alg": "sha512"
                },
                "subject_name": "postgres-client1",
                "issuer_name": "postgres-ca",
                "version": 3,
                "not_valid_before": "now",
                "not_valid_after": 365,
                "subject_name_attributes": {
                    "COMMON_NAME": "client1"
                },
                "extensions": {
                    "BasicConstraints": {
                        "ca": "false",
                        "path_length": "none",
                        "critical": "true"
                    },
                    "SubjectKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    },
                    "AuthorityKeyIdentifier": {
                        "set": "true",
                        "critical": "false"
                    }
                }
            }
        }
    ]
}